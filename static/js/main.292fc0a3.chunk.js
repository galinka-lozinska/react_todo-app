(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(19),r=n.n(o),l=n(9),u=(n(28),n(29),n(30),n(3)),i=n(1),s=n(22),m=n(13),d=n(8),f="ALL",p="ACTIVE",E="COMPLETED",h={id:440,name:"Galina Lozinska",username:"lozinska",phone:"0967784857",email:"galinkalozinska@gmail.com"},b="https://mate-api.herokuapp.com/users",j="https://mate-api.herokuapp.com/todos",O=function(e,t,n){return fetch("".concat(j,"/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(Object(m.a)({},t,n))})},g=function(e){return fetch("".concat(j,"/").concat(e),{method:"DELETE"})},k=n(6),v=n.n(k),y=(v.a.func,v.a.func,function(e){var t=e.onAddTodo,n=e.setError,o=Object(c.useState)(""),r=Object(u.a)(o,2),l=r[0],i=r[1],m=function(e){var c;e&&((c={title:e,completed:!1},fetch(j,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(Object(d.a)(Object(d.a)({},c),{},{userId:h.id}))}).then((function(e){return e.json()})).then((function(e){return e.data}))).then((function(e){t((function(t){return[].concat(Object(s.a)(t),[e])}))})).catch((function(e){return n(e.toString())})),i(""))};return a.a.createElement("form",null,a.a.createElement("input",{type:"text",className:"new-todo",value:l,placeholder:"What needs to be done?",onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),m(l))},onBlur:function(e){return m(e.target.value)}}))}),N=function(e){var t=e.setFilter;return a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement(l.c,{to:"/",exact:!0,activeClassName:"selected",onClick:function(){return t(f)}},"All")),a.a.createElement("li",null,a.a.createElement(l.c,{to:"/active",exact:!0,activeClassName:"selected",onClick:function(){return t(p)}},"Active")),a.a.createElement("li",null,a.a.createElement(l.c,{to:"/completed",exact:!0,activeClassName:"selected",onClick:function(){return t(E)}},"Completed")))},C=(v.a.number,v.a.string,v.a.bool,function(e){var t=e.todos,n=e.setTodos,o=e.setFilter,r=Object(c.useState)(!1),l=Object(u.a)(r,2),i=l[0],s=l[1],m=Object(c.useState)(0),d=Object(u.a)(m,2),f=d[0],p=d[1];Object(c.useEffect)((function(){s(!t.find((function(e){return!0===e.completed}))),p((function(){return t.reduce((function(e,t){return e+(t.completed?0:1)}),0)}))}),[t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"todo-count"},"".concat(f," item").concat(f>1?"s":""," left")),a.a.createElement(N,{setFilter:o}),a.a.createElement("button",{type:"button",className:"clear-completed",style:{display:i?"none":"block"},onClick:function(){t.forEach((function(e){return e.completed&&g(e.id)})),n((function(){return t.filter((function(e){return!1===e.completed}))}))}},"Clear completed"))}),S=n(21),T=n.n(S),F=function(e){var t=e.todo,n=e.onSetTodos,o=Object(c.useState)(0),r=Object(u.a)(o,2),l=r[0],i=r[1],s=Object(c.useState)(t.title),m=Object(u.a)(s,2),f=m[0],p=m[1],E=Object(c.useRef)();Object(c.useEffect)((function(){E.current.focus()}),[l]);var h=function(){f&&(O(t.id,"title",f),n((function(e){return e.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{title:f}):e}))}))),i(0)};return a.a.createElement("li",{className:T()({completed:t.completed,editing:l===t.id})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(e){e.persist(),O(t.id,"completed",e.target.checked),n((function(n){return n.map((function(n){return n.id===t.id?Object(d.a)(Object(d.a)({},n),{},{completed:e.target.checked}):n}))}))}}),a.a.createElement("label",{onDoubleClick:function(){return i(t.id)}},t.title),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(e){g(e),n((function(t){return t.filter((function(t){return t.id!==e}))}))}})),a.a.createElement("input",{type:"text",ref:E,className:"edit",value:f,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.persist(),h()),"Escape"===e.key&&i(0)},onBlur:h}))},x=function(e){var t=e.todos,n=e.onSetTodos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:function(e){e.persist(),t.forEach((function(e){return O(e.id,"completed",!e.completed)})),n((function(){return t.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{completed:e.target.checked})}))}))}}),a.a.createElement("label",{htmlFor:"toggle-all",hidden:0===t.length},"Mark all as complete"),a.a.createElement("ul",{className:"todo-list"},t.map((function(e){return a.a.createElement(F,{key:e.id,todo:e,onSetTodos:n})}))))},w=function(e,t){switch(e){case f:return t;case p:return t.filter((function(e){return!1===e.completed}));case E:return t.filter((function(e){return!0===e.completed}));default:return t}},A=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)({}),s=Object(u.a)(r,2),m=s[0],d=s[1],O=Object(c.useState)(""),g=Object(u.a)(O,2),k=g[0],v=g[1],N=Object(c.useState)(f),S=Object(u.a)(N,2),T=S[0],F=S[1],A=Object(i.d)();return Object(c.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.id;return fetch("".concat(j,"/?userId=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))})().then((function(e){return o(e||[])})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.id;return fetch("".concat(b,"/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))}().then((function(e){return d(e)}))}),[]),Object(c.useEffect)((function(){switch(A.hash){case"#/":F(f);break;case"#/active":F(p);break;case"#/completed":F(E)}}),[A]),Object(c.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]),a.a.createElement(l.b,null,a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(y,{onAddTodo:o,setError:v})),a.a.createElement("section",{className:"main"},a.a.createElement(x,{todos:w(T,n),onSetTodos:o})),a.a.createElement("footer",{className:"footer",style:{display:n.length?"block":"none"}},a.a.createElement(C,{todos:n,setTodos:o,setFilter:F}))),a.a.createElement("section",{className:"info"},a.a.createElement("section",{className:"error"},a.a.createElement("p",null,k)),a.a.createElement("p",null,m.name)))};r.a.render(a.a.createElement(l.a,null,a.a.createElement(A,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.292fc0a3.chunk.js.map