(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(19),r=n.n(o),l=n(9),u=(n(28),n(29),n(30),n(3)),i=n(1),s=n(22),d=n(13),m=n(8),f="all",p="active",h="completed",b={id:440,name:"Galina Lozinska",username:"lozinska",phone:"0967784857",email:"galinkalozinska@gmail.com"},E="https://mate-api.herokuapp.com/users",j="https://mate-api.herokuapp.com/todos",O=function(e,t,n){return fetch("".concat(j,"/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(Object(d.a)({},t,n))})},g=function(e){return fetch("".concat(j,"/").concat(e),{method:"DELETE"})},v=n(6),k=n.n(v),S=(k.a.func.isRequired,k.a.func.isRequired,function(e){var t=e.onNewTodoAdd,n=e.onErrorSet,o=Object(c.useState)(""),r=Object(u.a)(o,2),l=r[0],i=r[1],d=function(e){var c;e&&((c={title:e,completed:!1},fetch(j,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(Object(m.a)(Object(m.a)({},c),{},{userId:b.id}))}).then((function(e){return e.json()})).then((function(e){return e.data}))).then((function(e){t((function(t){return[].concat(Object(s.a)(t),[e])}))})).catch((function(e){return n(e.toString())})),i(""))};return a.a.createElement("form",null,a.a.createElement("input",{type:"text",className:"new-todo",value:l,placeholder:"What needs to be done?",onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),d(l))},onBlur:function(e){return d(e.target.value)}}))}),y=function(e){var t=e.onFilterSet;return a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement(l.c,{to:"/",exact:!0,activeClassName:"selected",onClick:function(){return t(f)}},"All")),a.a.createElement("li",null,a.a.createElement(l.c,{to:"/active",exact:!0,activeClassName:"selected",onClick:function(){return t(p)}},"Active")),a.a.createElement("li",null,a.a.createElement(l.c,{to:"/completed",exact:!0,activeClassName:"selected",onClick:function(){return t(h)}},"Completed")))},N=(k.a.number,k.a.string,k.a.bool,function(e){var t=e.todos,n=e.onTodosSet,o=e.onFilterSet,r=Object(c.useState)(!1),l=Object(u.a)(r,2),i=l[0],s=l[1],d=Object(c.useState)(0),m=Object(u.a)(d,2),f=m[0],p=m[1];Object(c.useEffect)((function(){s(!t.find((function(e){return!0===e.completed}))),p((function(){return t.reduce((function(e,t){return e+(t.completed?0:1)}),0)}))}),[t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"todo-count"},"".concat(f," item").concat(f>1?"s":""," left")),a.a.createElement(y,{onFilterSet:o}),a.a.createElement("button",{type:"button",className:"clear-completed",style:{display:i?"none":"block"},onClick:function(){t.forEach((function(e){return e.completed&&g(e.id)})),n((function(){return t.filter((function(e){return!e.completed}))}))}},"Clear completed"))}),C=n(21),T=n.n(C),F=function(e){var t=e.todo,n=e.onTodosSet,o=Object(c.useState)(0),r=Object(u.a)(o,2),l=r[0],i=r[1],s=Object(c.useState)(t.title),d=Object(u.a)(s,2),f=d[0],p=d[1],h=Object(c.useRef)();Object(c.useEffect)((function(){h.current.focus()}),[l]);var b=function(){f&&(O(t.id,"title",f),n((function(e){return e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{title:f}):e}))}))),i(0)};return a.a.createElement("li",{className:T()({completed:t.completed,editing:l===t.id})},a.a.createElement("div",{className:"view"},a.a.createElement("input",{type:"checkbox",className:"toggle",checked:t.completed,onChange:function(e){var c=e.target.checked;e.persist(),O(t.id,"completed",c),n((function(e){return e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),{},{completed:c}):e}))}))}}),a.a.createElement("label",{onDoubleClick:function(){return i(t.id)}},t.title),a.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return e=t.id,g(e),void n((function(t){return t.filter((function(t){return t.id!==e}))}));var e}})),a.a.createElement("input",{type:"text",ref:h,className:"edit",value:f,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){var t=e.key;"Enter"===t&&(e.persist(),b()),"Escape"===t&&i(0)},onBlur:b}))},w=function(e){var t=e.todos,n=e.typeFilteringTodos,c=e.onTodosSet;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"checkbox",id:"toggle-all",checked:!t.some((function(e){return!e.completed})),className:"toggle-all",onChange:function(e){var n=e.target.checked;e.persist(),t.forEach((function(e){return O(e.id,"completed",!e.completed)})),c((function(){return t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{completed:n})}))}))}}),a.a.createElement("label",{htmlFor:"toggle-all",hidden:0===t.length},"Mark all as complete"),a.a.createElement("ul",{className:"todo-list"},function(e,t){switch(e){case f:return t;case p:return t.filter((function(e){return!1===e.completed}));case h:return t.filter((function(e){return!0===e.completed}));default:return t}}(n,t).map((function(e){return a.a.createElement(F,{key:e.id,todo:e,onTodosSet:c})}))))},x=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)({}),s=Object(u.a)(r,2),d=s[0],m=s[1],O=Object(c.useState)(""),g=Object(u.a)(O,2),v=g[0],k=g[1],y=Object(c.useState)(f),C=Object(u.a)(y,2),T=C[0],F=C[1],x=Object(i.d)();return Object(c.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.id;return fetch("".concat(j,"/?userId=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))})().then((function(e){return o(e||[])})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.id;return fetch("".concat(E,"/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))}().then((function(e){return m(e)}))}),[]),Object(c.useEffect)((function(){switch(x.hash){case"#/":F(f);break;case"#/active":F(p);break;case"#/completed":F(h)}}),[x]),Object(c.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]),a.a.createElement(l.b,null,a.a.createElement("section",{className:"todoapp"},a.a.createElement("header",{className:"header"},a.a.createElement("h1",null,"todos"),a.a.createElement(S,{onNewTodoAdd:o,onErrorSet:k})),a.a.createElement("section",{className:"main"},a.a.createElement(w,{todos:n,typeFilteringTodos:T,onTodosSet:o})),a.a.createElement("footer",{className:"footer",style:{display:n.length?"block":"none"}},a.a.createElement(N,{todos:n,onTodosSet:o,onFilterSet:F}))),a.a.createElement("section",{className:"info"},a.a.createElement("section",{className:"error"},a.a.createElement("p",null,v)),a.a.createElement("p",null,d.name)))};r.a.render(a.a.createElement(l.a,null,a.a.createElement(x,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.ba31ec29.chunk.js.map